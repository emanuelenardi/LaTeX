\usepackage[newfloat, cachedir=_minted-cache]{minted}

% NOTE permette di trattare il codice come se fosse un float
\newenvironment{code}{\captionsetup{type=listing}}{}
\SetupFloatingEnvironment{listing}{name=Codice}

% NOTE inline mint options

% NOTE Languace C++
\newmintinline[cppinline]{cpp}{}
\newmint[cppcode]{cpp}{}
\newmintedfile[cppfile]{cpp}{}

% NOTE Language Java
\newmintinline[javainline]{java}{}
\newmint[javacode]{java}{}
\newmintedfile[javafile]{java}{}

% IDEA se stampato non ci devono essere colori
\newif\ifprinted
% NOTE di default produci il codice colorato
% \printedtrue

\ifprinted
	\usemintedstyle{bw}
\else
	\usemintedstyle{manni}
\fi

% IDEA opzioni globali
\setminted{
	breaklines = true,
	frame = lines,
	% ,linenos
	,fontsize = \footnotesize
	,fontseries = bold
	% ,highlightcolor = highlightColor
	,numberblanklines = false
	,texcomments
	% WARNING il carattere '|' crea problemi
	% escapeinside = ||
	,mathescape
}

% NOTE opzioni per linguaggio 'C++'
\setminted[java]{
	,linenos = false
	,tabsize = 4
}

% NOTE opzioni per linguaggio 'C++'
\setminted[cpp]{
	,linenos = false
	,tabsize = 4
}

% NOTE opzioni per linguaggio 'C'
\setminted[c]{
	,linenos = false
	,tabsize = 4
}
