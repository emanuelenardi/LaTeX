% ---------------------------------------------------------------------------- %
% ---------------------------------------------------------------------------- %
% ---------------------------------------------------------------------------- %
% Welcome to hell!
%
% If you are editing this, look. I'm sorry.
% I did not expect you to come here.
% What are doing in this barren wasteland anyway?
% Well, I guess if you've made it this far, you've grown to understand my ugly code.
% But since this is (probably) the worst part, feel free to ask me for help:
%
% emanuele.nardi@studenti.unitn.it
%
% Note to future self:
% This message does not apply to you. Enjoy hell.
% ---------------------------------------------------------------------------- %
% ---------------------------------------------------------------------------- %
% ---------------------------------------------------------------------------- %

% NOTE: "draft" makes LaTeX indicate hyphenation and justification problems with a small square in the right-hand margin of the problem line so they can be located quickly by a human. It also suppresses the inclusion of images and shows only a frame where they would normally occur;
% NOTE: "fleqn" typesets displayed formulas left-aligned instead of centered;
% NOTE: "leqno" places the numbering of formulas on the left hand side instead of the right;
% NOTE: "a4paper" defines the paper size;
% NOTE: "11pt" dets the size of the main font in the document. If no option is specified, 10pt is assumed.
% NOTE: specifies whether a new page should be started after the document title or not. The article class does not start a new page by default, while report and book do.
\documentclass[
	,draft
	% ,gray
	% ,fleqn
	,leqno
	,a4paper
	,11pt
	,titlepage
]{article}

% ---------------------------------------------------------------------------- %
% ---------------------------------------------------------------------------- %

% NOTE: The cmap package is intended to make the PDF files generated by pdflatex
% "searchable and copyable" in acrobat reader and other compliant PDF viewers.
\usepackage{cmap}
% \usepackage[noTeX]{mmap}       % cmap + mathematics (Unicode)

\ifxetex
	\usepackage[no-math]{fontspec}

	\usepackage{polyglossia}
	\setmainlanguage{italian}

	\usepackage{xltxtra}
	\newcommand{\tex}{\TeX}
	\newcommand{\latex}{\LaTeX}
	\newcommand{\xelatex}{\XeLaTeX}

	% TODO: specifica font predefiniti con xelatex
\else
	\usepackage[T1]{fontenc}
	\usepackage[utf8]{inputenc}
	% NOTE: languages used in the document
	% NB: l'ultima dev'essere la lingua principale del documento
	\usepackage[english, main=italian]{babel}

	% NOTE: introdotto dal progetto calliope
	% \usepackage[default, osfigures, scale=0.95]{opensans}
	\usepackage[scaled=.8]{sourcecodepro}

	% IDEA: "microtype" - migliora il riempimento delle righe
	% NOTE: activate = {true,nocompatibility} - activate protrusion and expansion
	% NOTE: final - enable microtype; use "draft" to disable
	% NOTE: tracking = true, kerning=true, spacing=true - activate these techniques
	% NOTE: factor = 1100 - add 10% to the protrusion amount (default is 1000)
	% NOTE: stretch = 10, shrink = 10 - reduce stretchability/shrinkability (default is 20/20)
	\usepackage[
		% ,activate	= {true,nocompatibility}
		,activate	= {true}
		,final
		% ,draft
		,tracking	= true
		,kerning	= true
		,spacing	= true
		,factor		= 1100
		,stretch	= 10
		,shrink		= 10
	]{microtype}
\fi

% ---------------------------------------------------------------------------- %
% ---------------------------------------------------------------------------- %

\usepackage{cleveref}

% IDEA: compilare indipendente i file
% NOTE: "subfiles" - TODO
% NOTE: "standalone" - TODO
\usepackage{subfiles}
\usepackage{standalone}

% NOTE: "pifont" - introduce i simboli \cmark e \xmark
\usepackage{pifont}

% NOTE: "datetime2" - gestione e stampa delle date in vari formati
\usepackage[useregional,showdow]{datetime2}

\newcommand{\lezione}[1]{{\bfseries Lezione del \DTMdate{#1}}}

% NOTE: "mdframed" - TODO
\usepackage[framemethod = tikz]{mdframed}

% NOTE: "ulem" - permette di avere diversi tipi di sottolineatura
% NB: "normalem" - replaces underlining with italics in text emphasized by \emph
\usepackage[normalem]{ulem}

% NOTE: Linea spessa sul testo sottostante
\newcommand{\soutthick}[1]{
	\renewcommand{\ULthickness}{1.0pt}	% 2.4
		\sout{#1}%
	\renewcommand{\ULthickness}{.4pt}	% Resetting to ulem default
}

% NOTE: "tocloft" - gestione dei Table Of Content
% NB: "titles" - evita errori di caricamento dei pacchetti
\usepackage[titles]{tocloft}


% WARNING: package deprecatig
% OPTIMIZE: footmisc -> TODO
% OPTIMIZE: subfig -> subcaption
% OPTIMIZE: caption -> subcaption

\input{set-colors}
\input{set-geometry}
\input{set-graphics}
\input{set-math}
\input{set-algorithm}
\input{set-tables}
\input{set-rotating}
\input{set-pages}
\input{set-margins}
\input{set-tikz}
\input{set-tikz-externalization}
\input{set-utilities}
\input{set-links}

\newif\ifmaindoc
\maindocfalse

\ifmaindoc
	\input{set-pdf-prop}
\fi

\input{set-pdf}

\input{my-pagestyle}
\input{my-paths}
\input{my-commands}

\input{set-listing}
\input{set-columns}

\input{set-toc}
% \input{set-todo}
\input{set-color}
\input{set-paragraph}
\input{set-lists}
\input{set-caption}
\input{set-quote}

% ---------------------------------------------------------------------------- %
% ---------------------------------------------------------------------------- %
% ---------------------------------------------------------------------------- %
